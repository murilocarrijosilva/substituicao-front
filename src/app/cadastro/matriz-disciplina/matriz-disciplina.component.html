<div class="matriz-disciplina-component">
	<p-panel header="Cadastrar">
		<form>
			<div class="p-grid p-nogutter form-width">
				<div class="p-col-12">
					<label>Disciplina</label>
					<div>
						<p-dropdown placeholder="Selecionar disciplina" [style]="{'width':'100%'}" [options]="disciplinaDrop" [(ngModel)]="matrizDisciplina.disciplina" name="disciplina"></p-dropdown>
					</div>
				</div>
				<div class="p-col-2 p-offset-5">
					<button (click)="salvar(atualizando)" style="width: 100%; margin: 4px;" pButton type="submit" [label]="atualizando? 'Atualizar' : 'Enviar'"></button>
					<button *ngIf="atualizando" (click)="cancelarEdicao()" style="width: 100%; margin: 4px;" pButton type="submit" label="Cancelar"></button>
				</div>
			</div>
		</form>
  </p-panel>
  
  <div class="p-grid p-nogutter form-width">
    <div class="p-col-12">
        <p-table [value]="listaMatrizDisciplina" [paginator]="true" [rows]="7" [autoLayout]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th>Ano/Turma</th>
                    <th>Disciplina</th>
                    <th></th>
                </tr>
                <tr>
                    <th>
                        <input (input)="atualizarTabela()" type="text" pInputText style="width:100%" placeholder="Filtar ano">
                    </th>
                    <th>
                        <input (input)="atualizarTabela()" type="text" pInputText style="width:100%" placeholder="Filtar turma">
                    </th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-matrizDisciplina>
                <tr>
                    <td>{{'(' + matrizDisciplina.matriz.turma.ano + ') ' + matrizDisciplina.matriz.turma.curso.nome}}</td>
                    <td>{{matrizDisciplina.disciplina.nome}}</td>
                    <td>
                        <div style="text-align:center;">
                            <button (click)="editar(matrizDisciplina)" pButton type="button" icon="pi pi-pencil" iconPos="left" style="padding:0 10px; margin: 0 3px;"></button>
                            <button (click)="excluir(matrizDisciplina)" pButton type="button" icon="pi pi-trash" iconPos="left" style="padding:0 10px; margin: 0 3px;"></button>
                        </div>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
</div>

<p-confirmDialog header="Confirmar" icon="pi pi-exclamation-triangle"></p-confirmDialog>